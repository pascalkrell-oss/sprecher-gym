<!DOCTYPE html>
<html lang="de" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sprecher-Gym</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            colors: {
              cabin: {
                900: '#0a0d12',
                800: '#111827',
                700: '#1f2937'
              }
            }
          }
        }
      };
    </script>
  </head>
  <body class="bg-cabin-900 text-slate-100 min-h-screen">
    <div class="min-h-screen lg:grid lg:grid-cols-[260px_1fr]">
      <aside class="border-b lg:border-b-0 lg:border-r border-slate-800 bg-cabin-800/70 backdrop-blur">
        <div class="p-6">
          <h1 class="text-2xl font-bold tracking-tight">Sprecher-Gym</h1>
          <p class="text-sm text-slate-400 mt-1">Trainings-Tool für Voice Professionals</p>
        </div>
        <nav class="px-4 pb-6 space-y-2" id="navTabs">
          <button class="tab-btn w-full text-left px-4 py-3 rounded-lg bg-indigo-500/20 border border-indigo-500/50" data-target="generator">
            1. DEMO-Text-Generator
          </button>
          <button class="tab-btn w-full text-left px-4 py-3 rounded-lg hover:bg-slate-700/70 border border-transparent" data-target="teleprompter">
            2. Teleprompter & Lese-Trainer
          </button>
          <button class="tab-btn w-full text-left px-4 py-3 rounded-lg hover:bg-slate-700/70 border border-transparent" data-target="artikulation">
            3. Artikulations-Datenbank
          </button>
          <button class="tab-btn w-full text-left px-4 py-3 rounded-lg hover:bg-slate-700/70 border border-transparent" data-target="business">
            4. Business-Basics
          </button>
        </nav>
      </aside>

      <main class="p-4 md:p-8">
        <header class="mb-8 bg-cabin-800/70 border border-slate-800 rounded-2xl p-4 md:p-6">
          <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
            <div>
              <h2 class="text-xl md:text-2xl font-semibold">Interaktiver Trainingsmodus</h2>
              <p class="text-slate-400 text-sm md:text-base">Schalte Premium frei, um erweiterte Sprecher-Features zu testen.</p>
            </div>

            <div class="flex items-center gap-3 bg-slate-900 border border-slate-700 rounded-full px-3 py-2 w-fit">
              <span id="freeLabel" class="text-sm font-semibold text-indigo-300">Free Version</span>
              <button
                id="planToggle"
                aria-label="Free oder Premium umschalten"
                class="relative inline-flex h-8 w-16 items-center rounded-full bg-indigo-500 transition"
              >
                <span id="toggleKnob" class="inline-block h-6 w-6 transform rounded-full bg-white transition translate-x-1"></span>
              </button>
              <span id="premiumLabel" class="text-sm font-semibold text-slate-500">Premium Version</span>
            </div>
          </div>
        </header>

        <section id="generator" class="tab-section space-y-4">
          <div class="bg-cabin-800/70 border border-slate-800 rounded-2xl p-6">
            <div class="flex items-center justify-between mb-4">
              <h3 class="text-lg font-semibold">DEMO-Text-Generator</h3>
              <span class="text-xs px-2 py-1 rounded-full bg-emerald-500/20 text-emerald-300">Basisfunktion aktiv</span>
            </div>
            <div class="grid md:grid-cols-3 gap-3 mb-4 premium-lockable opacity-60 pointer-events-none" data-pro="true">
              <label class="text-sm">
                <span class="block mb-1 text-slate-300">Emotion <span class="ml-1 text-[10px] px-1.5 py-0.5 rounded bg-amber-500 text-slate-900 font-bold">PRO</span></span>
                <select class="w-full rounded-lg bg-slate-900 border border-slate-700 p-2">
                  <option>Neutral</option>
                  <option>Energetisch</option>
                  <option>Vertrauenswürdig</option>
                  <option>Dramatisch</option>
                </select>
              </label>
              <label class="text-sm">
                <span class="block mb-1 text-slate-300">Länge <span class="ml-1 text-[10px] px-1.5 py-0.5 rounded bg-amber-500 text-slate-900 font-bold">PRO</span></span>
                <select class="w-full rounded-lg bg-slate-900 border border-slate-700 p-2">
                  <option>Kurz (1-2 Sätze)</option>
                  <option>Mittel (4-6 Sätze)</option>
                  <option>Lang (10+ Sätze)</option>
                </select>
              </label>
              <label class="text-sm">
                <span class="block mb-1 text-slate-300">Nische <span class="ml-1 text-[10px] px-1.5 py-0.5 rounded bg-amber-500 text-slate-900 font-bold">PRO</span></span>
                <select class="w-full rounded-lg bg-slate-900 border border-slate-700 p-2">
                  <option>Automotive</option>
                  <option>Food</option>
                  <option>Tech</option>
                  <option>Imagefilm</option>
                </select>
              </label>
            </div>

            <div class="flex flex-wrap gap-3 mb-4">
              <button id="generateTextBtn" class="px-4 py-2 rounded-lg bg-indigo-500 hover:bg-indigo-400 font-semibold">Zufälligen Text generieren</button>
              <button class="premium-lockable px-4 py-2 rounded-lg bg-slate-700 text-slate-300 border border-slate-600 opacity-60 pointer-events-none" data-pro="true">
                Als PDF exportieren <span class="ml-1 text-[10px] px-1.5 py-0.5 rounded bg-amber-500 text-slate-900 font-bold">PRO</span>
              </button>
            </div>

            <textarea id="generatedText" rows="5" class="w-full rounded-xl bg-slate-900 border border-slate-700 p-3" placeholder="Hier erscheint dein Übungstext..."></textarea>
          </div>
        </section>

        <section id="teleprompter" class="tab-section hidden space-y-4">
          <div class="bg-cabin-800/70 border border-slate-800 rounded-2xl p-6 space-y-4">
            <h3 class="text-lg font-semibold">Teleprompter & Lese-Trainer</h3>
            <textarea id="prompterInput" rows="6" class="w-full rounded-xl bg-slate-900 border border-slate-700 p-3" placeholder="Text hier einfügen..."></textarea>
            <div class="flex flex-wrap gap-3 items-center">
              <button id="startPrompter" class="px-4 py-2 rounded-lg bg-indigo-500 hover:bg-indigo-400 font-semibold">Prompter Starten</button>
              <div class="premium-lockable flex items-center gap-3 opacity-60 pointer-events-none" data-pro="true">
                <label for="speedControl" class="text-sm">Scroll-Geschwindigkeit <span class="ml-1 text-[10px] px-1.5 py-0.5 rounded bg-amber-500 text-slate-900 font-bold">PRO</span></label>
                <input id="speedControl" type="range" min="10" max="100" value="40" class="accent-indigo-400" />
                <span id="speedValue" class="text-sm text-slate-300">40</span>
              </div>
            </div>
            <div id="prompterView" class="h-64 overflow-y-auto rounded-xl border border-slate-700 bg-slate-900 p-6 text-2xl leading-relaxed"></div>
          </div>
        </section>

        <section id="artikulation" class="tab-section hidden">
          <div class="bg-cabin-800/70 border border-slate-800 rounded-2xl p-6 space-y-4">
            <h3 class="text-lg font-semibold">Artikulations-Datenbank (Zungenbrecher)</h3>
            <div id="twisterList" class="space-y-3"></div>
            <div class="premium-lockable opacity-60 pointer-events-none" data-pro="true">
              <div class="rounded-xl border border-slate-700 bg-slate-900 p-4">
                <p class="text-sm text-slate-300">Tempo-Challenge <span class="ml-1 text-[10px] px-1.5 py-0.5 rounded bg-amber-500 text-slate-900 font-bold">PRO</span></p>
                <p id="tempoTimer" class="text-2xl font-mono mt-2">00:00</p>
                <button id="startTempo" class="mt-3 px-3 py-2 rounded-lg bg-indigo-500 hover:bg-indigo-400">Challenge starten</button>
              </div>
            </div>
          </div>
        </section>

        <section id="business" class="tab-section hidden">
          <div class="bg-cabin-800/70 border border-slate-800 rounded-2xl p-6 space-y-5">
            <h3 class="text-lg font-semibold">Business-Basics</h3>
            <ul class="list-disc list-inside text-slate-300 space-y-2">
              <li><a href="#" class="hover:text-indigo-300">Artikel: Mikrofon-Basics für Einsteiger</a></li>
              <li><a href="#" class="hover:text-indigo-300">Artikel: Demo-Reel strukturieren</a></li>
              <li><a href="#" class="hover:text-indigo-300">Artikel: Kommunikation mit Auftraggebern</a></li>
            </ul>

            <div class="premium-lockable opacity-60 pointer-events-none" data-pro="true">
              <div class="rounded-xl border border-slate-700 bg-slate-900 p-4 space-y-3">
                <h4 class="font-semibold">Gagen-Kalkulator <span class="ml-1 text-[10px] px-1.5 py-0.5 rounded bg-amber-500 text-slate-900 font-bold">PRO</span></h4>
                <div class="grid md:grid-cols-3 gap-3">
                  <label class="text-sm">Länge in Sekunden
                    <input id="lengthInput" type="number" min="1" value="30" class="mt-1 w-full rounded-lg bg-slate-800 border border-slate-700 p-2" />
                  </label>
                  <label class="text-sm">Medium
                    <select id="mediumSelect" class="mt-1 w-full rounded-lg bg-slate-800 border border-slate-700 p-2">
                      <option value="radio">Radio</option>
                      <option value="podcast">Podcast Ad</option>
                      <option value="tv">TV</option>
                      <option value="online">Online Spot</option>
                    </select>
                  </label>
                  <div class="text-sm flex flex-col justify-end">
                    <button id="calcFee" class="px-4 py-2 rounded-lg bg-indigo-500 hover:bg-indigo-400">Gage berechnen</button>
                  </div>
                </div>
                <p class="text-slate-200">Empfohlene Gage: <span id="feeOutput" class="font-bold">€ 0</span></p>
              </div>
            </div>
          </div>
        </section>
      </main>
    </div>

    <script>
      // Zentrale App-State Variable: steuert, ob Premium-Features freigeschaltet sind.
      let isPremium = false;
      let autoScrollInterval = null;
      let tempoInterval = null;
      let tempoSeconds = 0;

      const planToggle = document.getElementById('planToggle');
      const toggleKnob = document.getElementById('toggleKnob');
      const freeLabel = document.getElementById('freeLabel');
      const premiumLabel = document.getElementById('premiumLabel');
      const premiumLockables = document.querySelectorAll('.premium-lockable');

      const tabButtons = document.querySelectorAll('.tab-btn');
      const tabSections = document.querySelectorAll('.tab-section');
      const generatedText = document.getElementById('generatedText');
      const randomTexts = [
        'Mit klarem Fokus und ruhiger Stimme gibst du jeder Botschaft den richtigen Klang.',
        'Heute trainieren wir präzise Aussprache, damit jedes Wort sicher und überzeugend ankommt.',
        'Stell dir vor, du begleitest den Zuhörer durch eine starke Geschichte voller Emotion.'
      ];

      const speedControl = document.getElementById('speedControl');
      const speedValue = document.getElementById('speedValue');
      const prompterInput = document.getElementById('prompterInput');
      const prompterView = document.getElementById('prompterView');

      const twisters = [
        'Fischers Fritze fischt frische Fische.',
        'Brautkleid bleibt Brautkleid und Blaukraut bleibt Blaukraut.',
        'Zehn zahme Ziegen zogen zehn Zentner Zucker zum Zoo.',
        'Wenn Fliegen hinter Fliegen fliegen, fliegen Fliegen Fliegen nach.'
      ];

      const twisterList = document.getElementById('twisterList');
      const tempoTimer = document.getElementById('tempoTimer');

      function renderTwisters() {
        twisterList.innerHTML = '';
        twisters.forEach((text) => {
          const card = document.createElement('div');
          card.className = 'rounded-xl border border-slate-700 bg-slate-900 p-4';
          card.innerHTML = `
            <div class="flex items-center justify-between gap-3">
              <p>${text}</p>
              <button data-pro="true" class="premium-lockable opacity-60 pointer-events-none whitespace-nowrap px-3 py-2 rounded-lg bg-slate-700 border border-slate-600 text-sm">Play Audio <span class="ml-1 text-[10px] px-1 py-0.5 rounded bg-amber-500 text-slate-900 font-bold">PRO</span></button>
            </div>
          `;
          twisterList.appendChild(card);
        });
      }

      // Kernlogik: Toggle wechselt den Modus und passt dynamisch alle gesperrten Premium-Elemente an.
      function updatePremiumUI() {
        premiumLockables.forEach((el) => {
          if (isPremium) {
            el.classList.remove('opacity-60', 'pointer-events-none');
          } else {
            el.classList.add('opacity-60', 'pointer-events-none');
          }
        });

        // Dynamisches Nachziehen für neu erzeugte Premium-Buttons (z.B. in der Zungenbrecherliste).
        document.querySelectorAll('[data-pro="true"]').forEach((el) => {
          if (isPremium) {
            el.classList.remove('opacity-60', 'pointer-events-none');
          } else {
            el.classList.add('opacity-60', 'pointer-events-none');
          }
        });

        toggleKnob.style.transform = isPremium ? 'translateX(2.1rem)' : 'translateX(0.25rem)';
        planToggle.classList.toggle('bg-indigo-500', !isPremium);
        planToggle.classList.toggle('bg-emerald-500', isPremium);
        freeLabel.classList.toggle('text-indigo-300', !isPremium);
        freeLabel.classList.toggle('text-slate-500', isPremium);
        premiumLabel.classList.toggle('text-emerald-300', isPremium);
        premiumLabel.classList.toggle('text-slate-500', !isPremium);

        // Wenn zurück auf Free geschaltet wird, stoppen wir Premium-Autoscroll sauber.
        if (!isPremium && autoScrollInterval) {
          clearInterval(autoScrollInterval);
          autoScrollInterval = null;
        }
      }

      planToggle.addEventListener('click', () => {
        isPremium = !isPremium;
        updatePremiumUI();
      });

      tabButtons.forEach((button) => {
        button.addEventListener('click', () => {
          const target = button.dataset.target;
          tabSections.forEach((section) => section.classList.add('hidden'));
          tabButtons.forEach((btn) => {
            btn.classList.remove('bg-indigo-500/20', 'border-indigo-500/50');
            btn.classList.add('border-transparent');
          });
          document.getElementById(target).classList.remove('hidden');
          button.classList.add('bg-indigo-500/20', 'border-indigo-500/50');
          button.classList.remove('border-transparent');
        });
      });

      document.getElementById('generateTextBtn').addEventListener('click', () => {
        const randomText = randomTexts[Math.floor(Math.random() * randomTexts.length)];
        generatedText.value = randomText;
      });

      document.getElementById('startPrompter').addEventListener('click', () => {
        prompterView.textContent = prompterInput.value || 'Bitte zuerst Text einfügen, dann den Prompter starten.';
        prompterView.scrollTop = 0;

        if (autoScrollInterval) {
          clearInterval(autoScrollInterval);
          autoScrollInterval = null;
        }

        // Premium-Feature: nur im Premium-Modus wird automatisch gescrollt.
        if (isPremium) {
          autoScrollInterval = setInterval(() => {
            prompterView.scrollTop += Number(speedControl.value) / 8;
          }, 100);
        }
      });

      speedControl.addEventListener('input', () => {
        speedValue.textContent = speedControl.value;
      });

      document.getElementById('startTempo').addEventListener('click', () => {
        if (!isPremium) return;
        clearInterval(tempoInterval);
        tempoSeconds = 0;
        tempoInterval = setInterval(() => {
          tempoSeconds += 1;
          const mins = String(Math.floor(tempoSeconds / 60)).padStart(2, '0');
          const secs = String(tempoSeconds % 60).padStart(2, '0');
          tempoTimer.textContent = `${mins}:${secs}`;
        }, 1000);
      });

      document.getElementById('calcFee').addEventListener('click', () => {
        if (!isPremium) return;
        const length = Number(document.getElementById('lengthInput').value) || 0;
        const medium = document.getElementById('mediumSelect').value;
        const factors = { radio: 4.5, podcast: 3.2, tv: 7.8, online: 5.1 };
        const fee = Math.round(length * (factors[medium] || 3));
        document.getElementById('feeOutput').textContent = `€ ${fee}`;
      });

      renderTwisters();
      updatePremiumUI();
    </script>
  </body>
</html>
